name: Test Pull Request

# Runs all tests whenever a pull request is created or updated.
on:
  # Use pull_request_target instead of pull_request because we want this to run on PRs from forks. Simply allowing
  # actions to run can be insecure, hence why we require approval before running actions in a PR from a fork.
  pull_request_target:
    types: [opened, synchronize]

jobs:
  run-frontend-tests:
    uses: ./.github/workflows/frontend-tests.yml
    secrets: inherit

  run-backend-tests:
    uses: ./.github/workflows/backend-tests.yml
    secrets: inherit
